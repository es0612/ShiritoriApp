# しりとりアプリ仕様書

## 1. アプリ概要

幼児から小学生低学年の子供を対象とした、音声入力をメインに据えたしりとりゲームアプリ。1人から最大5人まで、人間とコンピュータを交えて遊ぶことができる。子供が直感的に操作できる、楽しく温かみのあるインターフェースを目指す。

## 2. ゲームルール

### 2.1. 基本ルール
- **形式:** しりとり
- **単語:** 一度使用した単語は再利用不可。
- **敗北条件:**
    - 最後に「ん」が付く単語を回答した。
    - 制限時間内に回答できなかった。
- **既出単語の扱い:**
    - 既に出た単語を回答した場合、敗北にはならず、間違いであることをアニメーションと効果音で通知。プレイヤーは再度、別の単語を回答する。

### 2.2. カスタマイズ可能なルール（設定画面）
- **勝利条件:** ゲーム開始前に「何人脱落したらゲーム終了か」を設定可能にする。
- **制限時間:** ターンごとの制限時間を設定可能。制限時間なしのモードも選択できる。
- **単語制限:** オプションとして、使用できる単語の種類（例: 名詞のみ、3文字以上など）を制限できる機能を追加する。

## 3. プレイヤーとコンピュータ

### 3.1. プレイヤー管理
- **プレイヤー登録:**
    - アプリ内にプレイヤー情報を事前に登録できる。
    - 登録情報: 名前、アイコン（アバター画像）。
    - 登録したプレイヤー情報は、いつでも編集・削除が可能。

### 3.2. ゲーム設定
ゲーム開始前に以下の項目を設定する。
1.  **参加者の選択:** 登録済みプレイヤーの一覧から、今回のゲームに参加するメンバーを選択する。
2.  **コンピュータの追加:**
    - 参加者としてコンピュータを追加できる。
    - 強さを「よわい」「ふつう」「つよい」の3段階から選択する。
3.  **順番の決定:** 参加者の回答順を決定する。
4.  **勝利条件の設定:** 何人脱落したらゲーム終了かを設定する。

### 3.3. コンピュータの思考アルゴリズム
- アプリ内にレベル別の単語辞書（語彙リスト）を内蔵する。
- **思考:** 自身のレベルに応じた辞書の中から、前の単語に続く言葉を**ランダムに**選択して回答する。
- **強さの定義:**
    - **よわい:** 子供向けの簡単な語彙リストを使用。
    - **ふつう:** 一般的な語彙リストを使用。
    - **つよい:** 豊富な語彙リストを使用。意図的に返しにくい単語（例:「る」で終わる）も含まれる。

## 4. 画面フローとUI/UX

### 4.1. 画面遷移
1.  **タイトル画面:** アプリ起動時の画面。
2.  **メンバー選択画面:** 「スタート」後、登録済みプレイヤーから参加者を選ぶ。
3.  **ゲーム設定画面:** 順番や勝利条件などを設定する。
4.  **ゲームメイン画面:** しりとりをプレイする画面。
5.  **結果画面:** ゲーム終了後、勝敗を表示する画面。

### 4.2. 各画面の仕様
- **タイトル画面:**
    - BGMと簡単なアニメーションで楽しい雰囲気を演出。
    - 「スタート」ボタンと「プレイヤーをとうろく」ボタンを配置。
- **プレイヤー登録/選択画面:**
    - アイコン付きでプレイヤーを一覧表示。
    - タップで直感的に参加者を選択できる。
- **ゲームメイン画面:**
    - **ターン表示:** 「つぎは 〇〇ちゃんのばん！」のようにテキストで表示し、切り替え時には効果音でも通知する。
    - **単語表示:** 「まえのことば：〇〇」のように、前の単語を大きく表示する。
    - **入力:**
        - メイン: 画面の大部分を占める大きなマイクボタンを「押しながら話す」ことで音声入力。
        - サブ: テキスト入力も可能なように、補助的な入力欄を設ける。
    - **フィードバック:** 正解・不正解は、分かりやすいアニメーションと効果音でプレイヤーに伝える。
- **結果画面:**
    - 勝者を祝福するメッセージとアニメーション（例: 紙吹雪）を表示。
    - 「もういちど あそぶ」「タイトルにもどる」ボタンを配置。

## 5. デザインコンセプト

- **ターゲット:** 4〜8歳の子供。
- **スタイル:** クレヨンで描いたような手書き風、または、明るく元気が出るようなポップなカートゥーンスタイル。
- **UI:** ボタンや文字は大きく、子供が直感的に操作しやすいデザイン。
- **色彩:** カラフルで親しみやすい配色。
- **イラスト:** 動物、乗り物、果物など、子供が喜ぶような可愛いイラストやアイコンを積極的に使用する。
